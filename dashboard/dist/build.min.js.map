{"version":3,"file":"build.min.js","sources":["preact.js","htm.js","preact-router.js","../components/filters.js","../components/theme-toggle.js","../components/pageviews-chart.js","../components/stats.js","../components/breakdown.js","../components/history.js","../components/analytics.js","../components/app.js","../index.js"],"sourcesContent":["var n,l,u,i,t,o,r = {},f = [],e = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function c(n, l) {for (var u in l) n[u] = l[u];return n;}function s(n) {var l = n.parentNode;l && l.removeChild(n);}function a(n, l, u) {var i,t,o,r = arguments,f = {};for (o in l) \"key\" == o ? i = l[o] : \"ref\" == o ? t = l[o] : f[o] = l[o];if (arguments.length > 3) for (u = [u], o = 3; o < arguments.length; o++) u.push(r[o]);if (null != u && (f.children = u), \"function\" == typeof n && null != n.defaultProps) for (o in n.defaultProps) void 0 === f[o] && (f[o] = n.defaultProps[o]);return v(n, f, i, t, null);}function v(l, u, i, t, o) {var r = { type: l, props: u, key: i, ref: t, __k: null, __: null, __b: 0, __e: null, __d: void 0, __c: null, __h: null, constructor: void 0, __v: null == o ? ++n.__v : o };return null != n.vnode && n.vnode(r), r;}function h() {return { current: null };}function y(n) {return n.children;}function p(n, l) {this.props = n, this.context = l;}function d(n, l) {if (null == l) return n.__ ? d(n.__, n.__.__k.indexOf(n) + 1) : null;for (var u; l < n.__k.length; l++) if (null != (u = n.__k[l]) && null != u.__e) return u.__e;return \"function\" == typeof n.type ? d(n) : null;}function _(n) {var l, u;if (null != (n = n.__) && null != n.__c) {for (n.__e = n.__c.base = null, l = 0; l < n.__k.length; l++) if (null != (u = n.__k[l]) && null != u.__e) {n.__e = n.__c.base = u.__e;break;}return _(n);}}function k(l) {(!l.__d && (l.__d = !0) && u.push(l) && !b.__r++ || t !== n.debounceRendering) && ((t = n.debounceRendering) || i)(b);}function b() {for (var n; b.__r = u.length;) n = u.sort(function (n, l) {return n.__v.__b - l.__v.__b;}), u = [], n.some(function (n) {var l, u, i, t, o, r;n.__d && (o = (t = (l = n).__v).__e, (r = l.__P) && (u = [], (i = c({}, t)).__v = t.__v + 1, I(r, t, i, l.__n, void 0 !== r.ownerSVGElement, null != t.__h ? [o] : null, u, null == o ? d(t) : o, t.__h), T(u, t), t.__e != o && _(t)));});}function m(n, l, u, i, t, o, e, c, s, a) {var h,p,_,k,b,m,w,A = i && i.__k || f,P = A.length;for (u.__k = [], h = 0; h < l.length; h++) if (null != (k = u.__k[h] = null == (k = l[h]) || \"boolean\" == typeof k ? null : \"string\" == typeof k || \"number\" == typeof k || \"bigint\" == typeof k ? v(null, k, null, null, k) : Array.isArray(k) ? v(y, { children: k }, null, null, null) : k.__b > 0 ? v(k.type, k.props, k.key, null, k.__v) : k)) {if (k.__ = u, k.__b = u.__b + 1, null === (_ = A[h]) || _ && k.key == _.key && k.type === _.type) A[h] = void 0;else for (p = 0; p < P; p++) {if ((_ = A[p]) && k.key == _.key && k.type === _.type) {A[p] = void 0;break;}_ = null;}I(n, k, _ = _ || r, t, o, e, c, s, a), b = k.__e, (p = k.ref) && _.ref != p && (w || (w = []), _.ref && w.push(_.ref, null, k), w.push(p, k.__c || b, k)), null != b ? (null == m && (m = b), \"function\" == typeof k.type && null != k.__k && k.__k === _.__k ? k.__d = s = g(k, s, n) : s = x(n, k, _, A, b, s), a || \"option\" !== u.type ? \"function\" == typeof u.type && (u.__d = s) : n.value = \"\") : s && _.__e == s && s.parentNode != n && (s = d(_));}for (u.__e = m, h = P; h--;) null != A[h] && (\"function\" == typeof u.type && null != A[h].__e && A[h].__e == u.__d && (u.__d = d(i, h + 1)), L(A[h], A[h]));if (w) for (h = 0; h < w.length; h++) z(w[h], w[++h], w[++h]);}function g(n, l, u) {var i, t;for (i = 0; i < n.__k.length; i++) (t = n.__k[i]) && (t.__ = n, l = \"function\" == typeof t.type ? g(t, l, u) : x(u, t, t, n.__k, t.__e, l));return l;}function w(n, l) {return l = l || [], null == n || \"boolean\" == typeof n || (Array.isArray(n) ? n.some(function (n) {w(n, l);}) : l.push(n)), l;}function x(n, l, u, i, t, o) {var r, f, e;if (void 0 !== l.__d) r = l.__d, l.__d = void 0;else if (null == u || t != o || null == t.parentNode) n: if (null == o || o.parentNode !== n) n.appendChild(t), r = null;else {for (f = o, e = 0; (f = f.nextSibling) && e < i.length; e += 2) if (f == t) break n;n.insertBefore(t, o), r = o;}return void 0 !== r ? r : t.nextSibling;}function A(n, l, u, i, t) {var o;for (o in u) \"children\" === o || \"key\" === o || o in l || C(n, o, null, u[o], i);for (o in l) t && \"function\" != typeof l[o] || \"children\" === o || \"key\" === o || \"value\" === o || \"checked\" === o || u[o] === l[o] || C(n, o, l[o], u[o], i);}function P(n, l, u) {\"-\" === l[0] ? n.setProperty(l, u) : n[l] = null == u ? \"\" : \"number\" != typeof u || e.test(l) ? u : u + \"px\";}function C(n, l, u, i, t) {var o;n: if (\"style\" === l) {if (\"string\" == typeof u) n.style.cssText = u;else {if (\"string\" == typeof i && (n.style.cssText = i = \"\"), i) for (l in i) u && l in u || P(n.style, l, \"\");if (u) for (l in u) i && u[l] === i[l] || P(n.style, l, u[l]);}} else if (\"o\" === l[0] && \"n\" === l[1]) o = l !== (l = l.replace(/Capture$/, \"\")), l = l.toLowerCase() in n ? l.toLowerCase().slice(2) : l.slice(2), n.l || (n.l = {}), n.l[l + o] = u, u ? i || n.addEventListener(l, o ? H : $, o) : n.removeEventListener(l, o ? H : $, o);else if (\"dangerouslySetInnerHTML\" !== l) {if (t) l = l.replace(/xlink[H:h]/, \"h\").replace(/sName$/, \"s\");else if (\"href\" !== l && \"list\" !== l && \"form\" !== l && \"tabIndex\" !== l && \"download\" !== l && l in n) try {n[l] = null == u ? \"\" : u;break n;} catch (n) {}\"function\" == typeof u || (null != u && (!1 !== u || \"a\" === l[0] && \"r\" === l[1]) ? n.setAttribute(l, u) : n.removeAttribute(l));}}function $(l) {this.l[l.type + !1](n.event ? n.event(l) : l);}function H(l) {this.l[l.type + !0](n.event ? n.event(l) : l);}function I(l, u, i, t, o, r, f, e, s) {var a,v,h,d,_,k,b,g,w,x,A,P = u.type;if (void 0 !== u.constructor) return null;null != i.__h && (s = i.__h, e = u.__e = i.__e, u.__h = null, r = [e]), (a = n.__b) && a(u);try {n: if (\"function\" == typeof P) {if (g = u.props, w = (a = P.contextType) && t[a.__c], x = a ? w ? w.props.value : a.__ : t, i.__c ? b = (v = u.__c = i.__c).__ = v.__E : (\"prototype\" in P && P.prototype.render ? u.__c = v = new P(g, x) : (u.__c = v = new p(g, x), v.constructor = P, v.render = M), w && w.sub(v), v.props = g, v.state || (v.state = {}), v.context = x, v.__n = t, h = v.__d = !0, v.__h = []), null == v.__s && (v.__s = v.state), null != P.getDerivedStateFromProps && (v.__s == v.state && (v.__s = c({}, v.__s)), c(v.__s, P.getDerivedStateFromProps(g, v.__s))), d = v.props, _ = v.state, h) null == P.getDerivedStateFromProps && null != v.componentWillMount && v.componentWillMount(), null != v.componentDidMount && v.__h.push(v.componentDidMount);else {if (null == P.getDerivedStateFromProps && g !== d && null != v.componentWillReceiveProps && v.componentWillReceiveProps(g, x), !v.__e && null != v.shouldComponentUpdate && !1 === v.shouldComponentUpdate(g, v.__s, x) || u.__v === i.__v) {v.props = g, v.state = v.__s, u.__v !== i.__v && (v.__d = !1), v.__v = u, u.__e = i.__e, u.__k = i.__k, u.__k.forEach(function (n) {n && (n.__ = u);}), v.__h.length && f.push(v);break n;}null != v.componentWillUpdate && v.componentWillUpdate(g, v.__s, x), null != v.componentDidUpdate && v.__h.push(function () {v.componentDidUpdate(d, _, k);});}v.context = x, v.props = g, v.state = v.__s, (a = n.__r) && a(u), v.__d = !1, v.__v = u, v.__P = l, a = v.render(v.props, v.state, v.context), v.state = v.__s, null != v.getChildContext && (t = c(c({}, t), v.getChildContext())), h || null == v.getSnapshotBeforeUpdate || (k = v.getSnapshotBeforeUpdate(d, _)), A = null != a && a.type === y && null == a.key ? a.props.children : a, m(l, Array.isArray(A) ? A : [A], u, i, t, o, r, f, e, s), v.base = u.__e, u.__h = null, v.__h.length && f.push(v), b && (v.__E = v.__ = null), v.__e = !1;} else null == r && u.__v === i.__v ? (u.__k = i.__k, u.__e = i.__e) : u.__e = j(i.__e, u, i, t, o, r, f, s);(a = n.diffed) && a(u);} catch (l) {u.__v = null, (s || null != r) && (u.__e = e, u.__h = !!s, r[r.indexOf(e)] = null), n.__e(l, u, i);}}function T(l, u) {n.__c && n.__c(u, l), l.some(function (u) {try {l = u.__h, u.__h = [], l.some(function (n) {n.call(u);});} catch (l) {n.__e(l, u.__v);}});}function j(n, l, u, i, t, o, e, c) {var a,v,h,y,p = u.props,d = l.props,_ = l.type,k = 0;if (\"svg\" === _ && (t = !0), null != o) for (; k < o.length; k++) if ((a = o[k]) && (a === n || (_ ? a.localName == _ : 3 == a.nodeType))) {n = a, o[k] = null;break;}if (null == n) {if (null === _) return document.createTextNode(d);n = t ? document.createElementNS(\"http://www.w3.org/2000/svg\", _) : document.createElement(_, d.is && d), o = null, c = !1;}if (null === _) p === d || c && n.data === d || (n.data = d);else {if (o = o && f.slice.call(n.childNodes), v = (p = u.props || r).dangerouslySetInnerHTML, h = d.dangerouslySetInnerHTML, !c) {if (null != o) for (p = {}, y = 0; y < n.attributes.length; y++) p[n.attributes[y].name] = n.attributes[y].value;(h || v) && (h && (v && h.__html == v.__html || h.__html === n.innerHTML) || (n.innerHTML = h && h.__html || \"\"));}if (A(n, d, p, t, c), h) l.__k = [];else if (k = l.props.children, m(n, Array.isArray(k) ? k : [k], l, u, i, t && \"foreignObject\" !== _, o, e, n.firstChild, c), null != o) for (k = o.length; k--;) null != o[k] && s(o[k]);c || (\"value\" in d && void 0 !== (k = d.value) && (k !== n.value || \"progress\" === _ && !k) && C(n, \"value\", k, p.value, !1), \"checked\" in d && void 0 !== (k = d.checked) && k !== n.checked && C(n, \"checked\", k, p.checked, !1));}return n;}function z(l, u, i) {try {\"function\" == typeof l ? l(u) : l.current = u;} catch (l) {n.__e(l, i);}}function L(l, u, i) {var t, o, r;if (n.unmount && n.unmount(l), (t = l.ref) && (t.current && t.current !== l.__e || z(t, null, u)), i || \"function\" == typeof l.type || (i = null != (o = l.__e)), l.__e = l.__d = void 0, null != (t = l.__c)) {if (t.componentWillUnmount) try {t.componentWillUnmount();} catch (l) {n.__e(l, u);}t.base = t.__P = null;}if (t = l.__k) for (r = 0; r < t.length; r++) t[r] && L(t[r], u, i);null != o && s(o);}function M(n, l, u) {return this.constructor(n, u);}function N(l, u, i) {var t, o, e;n.__ && n.__(l, u), o = (t = \"function\" == typeof i) ? null : i && i.__k || u.__k, e = [], I(u, l = (!t && i || u).__k = a(y, null, [l]), o || r, r, void 0 !== u.ownerSVGElement, !t && i ? [i] : o ? null : u.firstChild ? f.slice.call(u.childNodes) : null, e, !t && i ? i : o ? o.__e : u.firstChild, t), T(e, l);}function O(n, l) {N(n, l, O);}function S(n, l, u) {var i,t,o,r = arguments,f = c({}, n.props);for (o in l) \"key\" == o ? i = l[o] : \"ref\" == o ? t = l[o] : f[o] = l[o];if (arguments.length > 3) for (u = [u], o = 3; o < arguments.length; o++) u.push(r[o]);return null != u && (f.children = u), v(n.type, f, i || n.key, t || n.ref, null);}function q(n, l) {var u = { __c: l = \"__cC\" + o++, __: n, Consumer: function (n, l) {return n.children(l);}, Provider: function (n) {var u, i;return this.getChildContext || (u = [], (i = {})[l] = this, this.getChildContext = function () {return i;}, this.shouldComponentUpdate = function (n) {this.props.value !== n.value && u.some(k);}, this.sub = function (n) {u.push(n);var l = n.componentWillUnmount;n.componentWillUnmount = function () {u.splice(u.indexOf(n), 1), l && l.call(n);};}), n.children;} };return u.Provider.__ = u.Consumer.contextType = u;}n = { __e: function (n, l) {for (var u, i, t; l = l.__;) if ((u = l.__c) && !u.__) try {if ((i = u.constructor) && null != i.getDerivedStateFromError && (u.setState(i.getDerivedStateFromError(n)), t = u.__d), null != u.componentDidCatch && (u.componentDidCatch(n), t = u.__d), t) return u.__E = u;} catch (l) {n = l;}throw n;}, __v: 0 }, l = function (n) {return null != n && void 0 === n.constructor;}, p.prototype.setState = function (n, l) {var u;u = null != this.__s && this.__s !== this.state ? this.__s : this.__s = c({}, this.state), \"function\" == typeof n && (n = n(c({}, u), this.props)), n && c(u, n), null != n && this.__v && (l && this.__h.push(l), k(this));}, p.prototype.forceUpdate = function (n) {this.__v && (this.__e = !0, n && this.__h.push(n), k(this));}, p.prototype.render = y, u = [], i = \"function\" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, b.__r = 0, o = 0;export { N as render, O as hydrate, a as createElement, a as h, y as Fragment, h as createRef, l as isValidElement, p as Component, S as cloneElement, q as createContext, w as toChildArray, n as options };","var n = function (t, s, r, e) {var u;s[0] = 0;for (var h = 1; h < s.length; h++) {var p = s[h++],a = s[h] ? (s[0] |= p ? 1 : 2, r[s[h++]]) : s[++h];3 === p ? e[0] = a : 4 === p ? e[1] = Object.assign(e[1] || {}, a) : 5 === p ? (e[1] = e[1] || {})[s[++h]] = a : 6 === p ? e[1][s[++h]] += a + \"\" : p ? (u = t.apply(a, n(t, a, r, [\"\", null])), e.push(u), a[0] ? s[0] |= 2 : (s[h - 2] = 0, s[h] = u)) : e.push(a);}return e;},t = new Map();export default function (s) {var r = t.get(this);return r || (r = new Map(), t.set(this, r)), (r = n(this, r.get(s) || (r.set(s, r = function (n) {for (var t, s, r = 1, e = \"\", u = \"\", h = [0], p = function (n) {1 === r && (n || (e = e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g, \"\"))) ? h.push(0, n, e) : 3 === r && (n || e) ? (h.push(3, n, e), r = 2) : 2 === r && \"...\" === e && n ? h.push(4, n, 0) : 2 === r && e && !n ? h.push(5, 0, !0, e) : r >= 5 && ((e || !n && 5 === r) && (h.push(r, 0, e, s), r = 6), n && (h.push(r, n, 0, s), r = 6)), e = \"\";}, a = 0; a < n.length; a++) {a && (1 === r && p(), p(a));for (var l = 0; l < n[a].length; l++) t = n[a][l], 1 === r ? \"<\" === t ? (p(), h = [h], r = 3) : e += t : 4 === r ? \"--\" === e && \">\" === t ? (r = 1, e = \"\") : e = t + e[0] : u ? t === u ? u = \"\" : e += t : '\"' === t || \"'\" === t ? u = t : \">\" === t ? (p(), r = 1) : r && (\"=\" === t ? (r = 5, s = e, e = \"\") : \"/\" === t && (r < 5 || \">\" === n[a][l + 1]) ? (p(), 3 === r && (h = h[0]), r = h, (h = h[0]).push(2, 0, r), r = 0) : \" \" === t || \"\\t\" === t || \"\\n\" === t || \"\\r\" === t ? (p(), r = 2) : e += t), 3 === r && \"!--\" === e && (r = 4, h = h[0]);}return p(), h;}(s)), r), arguments, [])).length > 1 ? r : r[0];}","import { Component, cloneElement, createElement, toChildArray } from \"https://unpkg.com/preact@>=10?module\";\n\nvar EMPTY$1 = {};\n\nfunction assign(obj, props) {\n  // eslint-disable-next-line guard-for-in\n  for (var i in props) {\n    obj[i] = props[i];\n  }\n  return obj;\n}\n\nfunction exec(url, route, opts) {\n  var reg = /(?:\\?([^#]*))?(#.*)?$/,\n  c = url.match(reg),\n  matches = {},\n  ret;\n  if (c && c[1]) {\n    var p = c[1].split('&');\n    for (var i = 0; i < p.length; i++) {\n      var r = p[i].split('=');\n      matches[decodeURIComponent(r[0])] = decodeURIComponent(r.slice(1).join('='));\n    }\n  }\n  url = segmentize(url.replace(reg, ''));\n  route = segmentize(route || '');\n  var max = Math.max(url.length, route.length);\n  for (var i$1 = 0; i$1 < max; i$1++) {\n    if (route[i$1] && route[i$1].charAt(0) === ':') {\n      var param = route[i$1].replace(/(^:|[+*?]+$)/g, ''),\n      flags = (route[i$1].match(/[+*?]+$/) || EMPTY$1)[0] || '',\n      plus = ~flags.indexOf('+'),\n      star = ~flags.indexOf('*'),\n      val = url[i$1] || '';\n      if (!val && !star && (flags.indexOf('?') < 0 || plus)) {\n        ret = false;\n        break;\n      }\n      matches[param] = decodeURIComponent(val);\n      if (plus || star) {\n        matches[param] = url.slice(i$1).map(decodeURIComponent).join('/');\n        break;\n      }\n    } else\n    if (route[i$1] !== url[i$1]) {\n      ret = false;\n      break;\n    }\n  }\n  if (opts.default !== true && ret === false) {return false;}\n  return matches;\n}\n\nfunction pathRankSort(a, b) {\n  return (\n    a.rank < b.rank ? 1 :\n    a.rank > b.rank ? -1 :\n    a.index - b.index);\n\n}\n\n// filter out VNodes without attributes (which are unrankeable), and add `index`/`rank` properties to be used in sorting.\nfunction prepareVNodeForRanking(vnode, index) {\n  vnode.index = index;\n  vnode.rank = rankChild(vnode);\n  return vnode.props;\n}\n\nfunction segmentize(url) {\n  return url.replace(/(^\\/+|\\/+$)/g, '').split('/');\n}\n\nfunction rankSegment(segment) {\n  return segment.charAt(0) == ':' ? 1 + '*+?'.indexOf(segment.charAt(segment.length - 1)) || 4 : 5;\n}\n\nfunction rank(path) {\n  return segmentize(path).map(rankSegment).join('');\n}\n\nfunction rankChild(vnode) {\n  return vnode.props.default ? 0 : rank(vnode.props.path);\n}\n\nvar customHistory = null;\n\nvar ROUTERS = [];\n\nvar subscribers = [];\n\nvar EMPTY = {};\n\nfunction setUrl(url, type) {\n  if (type === void 0) type = 'push';\n\n  if (customHistory && customHistory[type]) {\n    customHistory[type](url);\n  } else\n  if (typeof history !== 'undefined' && history[type + 'State']) {\n    history[type + 'State'](null, null, url);\n  }\n}\n\n\nfunction getCurrentUrl() {\n  var url;\n  if (customHistory && customHistory.location) {\n    url = customHistory.location;\n  } else\n  if (customHistory && customHistory.getCurrentLocation) {\n    url = customHistory.getCurrentLocation();\n  } else\n  {\n    url = typeof location !== 'undefined' ? location : EMPTY;\n  }\n  return \"\" + (url.pathname || '') + (url.search || '');\n}\n\n\n\nfunction route(url, replace) {\n  if (replace === void 0) replace = false;\n\n  if (typeof url !== 'string' && url.url) {\n    replace = url.replace;\n    url = url.url;\n  }\n\n  // only push URL into history if we can handle it\n  if (canRoute(url)) {\n    setUrl(url, replace ? 'replace' : 'push');\n  }\n\n  return routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n  for (var i = ROUTERS.length; i--;) {\n    if (ROUTERS[i].canRoute(url)) {return true;}\n  }\n  return false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n  var didRoute = false;\n  for (var i = 0; i < ROUTERS.length; i++) {\n    if (ROUTERS[i].routeTo(url) === true) {\n      didRoute = true;\n    }\n  }\n  for (var i$1 = subscribers.length; i$1--;) {\n    subscribers[i$1](url);\n  }\n  return didRoute;\n}\n\n\nfunction routeFromLink(node) {\n  // only valid elements\n  if (!node || !node.getAttribute) {return;}\n\n  var href = node.getAttribute('href'),\n  target = node.getAttribute('target');\n\n  // ignore links with targets and non-path URLs\n  if (!href || !href.match(/^\\//g) || target && !target.match(/^_?self$/i)) {return;}\n\n  // attempt to route, if no match simply cede control to browser\n  return route(href);\n}\n\n\nfunction handleLinkClick(e) {\n  if (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button !== 0) {return;}\n  routeFromLink(e.currentTarget || e.target || this);\n  return prevent(e);\n}\n\n\nfunction prevent(e) {\n  if (e) {\n    if (e.stopImmediatePropagation) {e.stopImmediatePropagation();}\n    if (e.stopPropagation) {e.stopPropagation();}\n    e.preventDefault();\n  }\n  return false;\n}\n\n\nfunction delegateLinkHandler(e) {\n  // ignore events the browser takes care of already:\n  if (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button !== 0) {return;}\n\n  var t = e.target;\n  do {\n    if (String(t.nodeName).toUpperCase() === 'A' && t.getAttribute('href')) {\n      if (t.hasAttribute('native')) {return;}\n      // if link is handled by the router, prevent browser defaults\n      if (routeFromLink(t)) {\n        return prevent(e);\n      }\n    }\n  } while (t = t.parentNode);\n}\n\n\nvar eventListenersInitialized = false;\n\nfunction initEventListeners() {\n  if (eventListenersInitialized) {return;}\n\n  if (typeof addEventListener === 'function') {\n    if (!customHistory) {\n      addEventListener('popstate', function () {\n        routeTo(getCurrentUrl());\n      });\n    }\n    addEventListener('click', delegateLinkHandler);\n  }\n  eventListenersInitialized = true;\n}\n\n\nvar Router = function (Component$$1) {\n  function Router(props) {\n    Component$$1.call(this, props);\n    if (props.history) {\n      customHistory = props.history;\n    }\n\n    this.state = {\n      url: props.url || getCurrentUrl() };\n\n\n    initEventListeners();\n  }\n\n  if (Component$$1) Router.__proto__ = Component$$1;\n  Router.prototype = Object.create(Component$$1 && Component$$1.prototype);\n  Router.prototype.constructor = Router;\n\n  Router.prototype.shouldComponentUpdate = function shouldComponentUpdate(props) {\n    if (props.static !== true) {return true;}\n    return props.url !== this.props.url || props.onChange !== this.props.onChange;\n  };\n\n  /** Check if the given URL can be matched against any children */\n  Router.prototype.canRoute = function canRoute(url) {\n    var children = toChildArray(this.props.children);\n    return this.getMatchingChildren(children, url, false).length > 0;\n  };\n\n  /** Re-render children with a new URL to match against. */\n  Router.prototype.routeTo = function routeTo(url) {\n    this.setState({ url: url });\n\n    var didRoute = this.canRoute(url);\n\n    // trigger a manual re-route if we're not in the middle of an update:\n    if (!this.updating) {this.forceUpdate();}\n\n    return didRoute;\n  };\n\n  Router.prototype.componentWillMount = function componentWillMount() {\n    ROUTERS.push(this);\n    this.updating = true;\n  };\n\n  Router.prototype.componentDidMount = function componentDidMount() {\n    var this$1 = this;\n\n    if (customHistory) {\n      this.unlisten = customHistory.listen(function (location) {\n        this$1.routeTo(\"\" + (location.pathname || '') + (location.search || ''));\n      });\n    }\n    this.updating = false;\n  };\n\n  Router.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (typeof this.unlisten === 'function') {this.unlisten();}\n    ROUTERS.splice(ROUTERS.indexOf(this), 1);\n  };\n\n  Router.prototype.componentWillUpdate = function componentWillUpdate() {\n    this.updating = true;\n  };\n\n  Router.prototype.componentDidUpdate = function componentDidUpdate() {\n    this.updating = false;\n  };\n\n  Router.prototype.getMatchingChildren = function getMatchingChildren(children, url, invoke) {\n    return children.\n    filter(prepareVNodeForRanking).\n    sort(pathRankSort).\n    map(function (vnode) {\n      var matches = exec(url, vnode.props.path, vnode.props);\n      if (matches) {\n        if (invoke !== false) {\n          var newProps = { url: url, matches: matches };\n          assign(newProps, matches);\n          delete newProps.ref;\n          delete newProps.key;\n          return cloneElement(vnode, newProps);\n        }\n        return vnode;\n      }\n    }).filter(Boolean);\n  };\n\n  Router.prototype.render = function render(ref, ref$1) {\n    var children = ref.children;\n    var onChange = ref.onChange;\n    var url = ref$1.url;\n\n    var active = this.getMatchingChildren(toChildArray(children), url, true);\n\n    var current = active[0] || null;\n\n    var previous = this.previousUrl;\n    if (url !== previous) {\n      this.previousUrl = url;\n      if (typeof onChange === 'function') {\n        onChange({\n          router: this,\n          url: url,\n          previous: previous,\n          active: active,\n          current: current });\n\n      }\n    }\n\n    return current;\n  };\n\n  return Router;\n}(Component);\n\nvar Link = function (props) {return (\n    createElement('a', assign({ onClick: handleLinkClick }, props)));\n};\n\nvar Route = function (props) {return createElement(props.component, props);};\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\nRouter.exec = exec;\n\nexport { subscribers, getCurrentUrl, route, Router, Route, Link, exec };export default Router;","import { h } from 'preact.js'\n\nexport default function ({ updateTimeframe, updateCustomTimeframe, clearCustomTimeframe, updateResolution, filters }) {\n  return h('div', { class: 'grid-lg contain' }, [\n    (!filters.from && !filters.to) && h('div', { class: 'w-50-lg' }, [\n      h('h4', {}, 'Timeframe'),\n      h('div', {}, [\n        timeframeSelection('today', 'Today'),\n        timeframeSelection('past-day', 'Past day'),\n        timeframeSelection('past-week', 'Past week')\n      ]),\n      h('div', {}, [\n        timeframeSelection('past-month', 'Past month'),\n        timeframeSelection('past-6-months', 'Past 6 months'),\n        timeframeSelection('past-year', 'Past year'),\n      ])\n    ]),\n    (!filters.from && !filters.to) && h('div', { class: 'w-50-lg' }, [\n      h('h4', {}, 'Resolution'),\n      h('div', {}, [\n        ['past-year'].includes(filters.timeframe) &&\n          resolutionSelection('monthly', 'Monthly'),\n        ['past-week', 'past-month', 'past-6-months', 'past-year'].includes(filters.timeframe) &&\n            resolutionSelection('daily', 'Daily'),\n        ['today', 'past-day', 'past-week', 'past-month'].includes(filters.timeframe) &&\n            resolutionSelection('hourly', 'Hourly'),\n        ['today', 'past-day'].includes(filters.timeframe) &&\n            resolutionSelection('minutes', 'Minutes')\n      ].filter(Boolean))\n    ]),\n    (filters.from || filters.to) && h('div', { class: 'w-50-lg' }, [\n      h('h4', {}, 'Resolution'),\n      h('div', {}, [\n        resolutionSelection('daily', 'Daily'),\n        resolutionSelection('hourly', 'Hourly')\n      ])\n    ]),\n    filters.from && h('div', {}, [\n      filters.from && h('span', { class: 'filterable static-filter' }, 'From '),\n      filters.from && h('input', {\n        type: 'datetime-local',\n        onChange: e => {\n          console.log(e.target.value)\n          updateCustomTimeframe(+new Date(e.target.value), +filters.to)\n        },\n        value: new Date(+filters.from).toISOString().substring(0, 16)\n      })\n    ]),\n    (filters.from && filters.to) && h('div', {}, [\n      filters.to && h('span', { class: 'filterable static-filter' }, 'To '),\n      filters.to && h('input', {\n        type: 'datetime-local',\n        onChange: e => {\n          console.log(e.target.value)\n          updateCustomTimeframe(+filters.from, +new Date(e.target.value))\n        },\n        value: new Date(+filters.to).toISOString().substring(0, 16)\n      })\n    ]),\n    (filters.from || filters.to) && h('div', {\n      class: 'filterable static-filter',\n      onClick: () => clearCustomTimeframe()\n    }, [\n      'Clear [x]'\n    ])\n  ].filter(Boolean))\n\n  function timeframeSelection (timeframe, label) {\n    return h('span', {\n      onClick: () => updateTimeframe(timeframe),\n      class: `select-timeframe filterable static-filter ${filters.timeframe === timeframe && 'active'}`,\n      name: timeframe,\n      id: timeframe\n    }, label)\n  }\n  function resolutionSelection (resolution, label) {\n    return h('span', {\n      onClick: () => updateResolution(resolution),\n      class: `select-resolution filterable static-filter ${filters.resolution === resolution && 'active'}`,\n      name: resolution,\n      id: resolution\n    }, label)\n  }  \n}\n","import { h } from 'preact.js'\n\nexport default function ({ theme, toggleTheme = Function.prototype }) {\n  return h('div', {class: 'theme-toggle', onClick: toggleTheme}, [\n    `${theme === 'dark' ? 'light' : 'dark'} theme`\n  ])\n}\n","import { h } from 'preact.js'\n\nexport default function ({ data, filters = {}, updateCustomTimeframe }) {\n  if (!data) return null\n  if (!Array.isArray(data.chartData)) return null\n\n  if (data.chartData.length < 2) {\n    return h('div', {\n      id: 'pageviews-chart',\n      style: { 'text-align': 'center' }\n    }, [\n      'Insufficient data to show chart..',\n      h('br', {}, []),\n      'Try to change timeframe or resolution.'\n    ])\n  }\n\n  const chartMaxPageviews = Math.max(...data.chartData.map(d => d[1]))\n  return h('div', { id: 'pageviews-chart' }, [\n    h('table', { class: 'charts-css column show-labels show-primary-axis' }, [\n      h('thead', {}, [\n        h('tr', {}, [\n          h('th', { scope: 'col' }, 'Date'),\n          h('th', { scope: 'col' }, 'Pageviews')\n        ])\n      ]),\n      h('tbody', {}, data.chartData.map((d, i) =>\n        h('tr', {\n          key: d[0],\n          onClick: () => updateCustomTimeframe(+new Date(d[0]))\n        }, [\n          h('td', {\n            style: { '--start': i === 0 ? 0 : data.chartData[i - 1][1] / chartMaxPageviews, '--size': d[1] / chartMaxPageviews }\n          }, [\n            data.chartData.length < 50 && h('span', { class: 'data' }, d[1]),\n            h('span', { class: 'tooltip' }, [\n              formatDate(d[0], filters.resolution),\n              h('br', {}, null),\n              `${d[1]} pageviews`\n            ])\n          ].filter(Boolean))\n        ])\n      )\n      )\n    ])\n  ])\n\n  function formatDate (d, resolution) {\n    if (resolution === 'daily' || resolution === 'monthly') return new Date(d).toLocaleDateString()\n    return new Date(d).toLocaleString()\n  }\n}\n","import { h } from 'preact.js'\n\nexport default function ({ data, filters = {}, toggleFilter }) {\n  if (!data) return null\n  if (!Number.isFinite(data.visitorsCount)) return null\n  if (!Number.isFinite(data.pageviewsCount)) return null\n\n  let live = data.live || {}\n  if (Object.keys(filters).length > 2) {\n    live = Object.keys(live).reduce((acc, key) => {\n      const filterKeys = Object.keys(filters).filter(k => ['p', 'r', 'v'].includes(k))\n      if (!filterKeys.every(f => live[key].pageview[f] === filters[f])) return acc\n      return Object.assign(acc, { [key]: live[key] })\n    }, {})\n  }\n\n  return h('div', {}, [\n    h('div', { class: 'grid contain text-lg' }, [\n      h('div', { class: 'w-50' }, [\n        h('h2', {}, 'Visitors'),\n        h('div', { id: 'visitors-count' }, data.visitorsCount)\n      ]),\n      h('div', { class: 'w-50' }, [\n        h('h2', {}, 'Pageviews'),\n        h('div', { id: 'pageviews-count' }, data.pageviewsCount)\n      ]),\n      h('div', { class: 'w-50' }, [\n        h('h2', {}, 'Bounce rate'),\n        h('div', { id: 'bounce-rate' }, (data.visitorsCount / data.pageviewsCount * 100).toFixed(0) + '%')\n      ]),\n      h('div', { class: 'w-50' }, [\n        h('h2', {}, 'Live'),\n        h('div', { id: 'live' }, Object.keys(live).length)\n      ])\n    ]),\n    h('div', { class: 'contain', id: 'live-pages' }, [\n      Object.keys(live).length > 0 && h('h2', {}, ['Live pages ', h('span', { class: 'live-dot' }, [])]),\n      h('ul', {}, Object.keys(live).reduce((acc, curr) => {\n        const existing = acc.find(({ p }) => p === live[curr].pageview.p)\n        if (existing) {\n          existing.c++\n          return acc\n        }\n        return acc.concat([{ p: live[curr].pageview.p, c: 1 }])\n      }, [])\n        .sort((a, b) => a.c - b.c)\n        .map(({ p, c }) =>\n          h('li', {\n            class: `filterable ${filters.p === p && 'active'}`,\n            onClick: () => toggleFilter('p', p),\n            key: p\n          }, `${c} · ${p}`)\n        )\n      )\n    ].filter(Boolean)),\n    h('div', { class: 'contain', id: 'live-referrers' }, [\n      Object.keys(live).length > 0 && h('h2', {}, ['Live referrers ', h('span', { class: 'live-dot' }, [])]),\n      h('ul', {}, Object.keys(live).reduce((acc, curr) => {\n        const existing = acc.find(({ r }) => r === live[curr].pageview.r)\n        if (existing) {\n          existing.c++\n          return acc\n        }\n        return acc.concat([{ r: live[curr].pageview.r, c: 1 }])\n      }, [])\n        .sort((a, b) => a.c - b.c)\n        .map(({ r, c }) =>\n          h('li', {\n            class: `filterable ${filters.r === r && 'active'}`,\n            onClick: () => toggleFilter('r', r),\n            key: r\n          }, `${c} · ${(r || '').replace('https://', '').replace('http://', '') || 'none'}`)\n        )\n      )\n    ].filter(Boolean))\n  ].filter(Boolean))\n}\n","import { h } from 'preact.js'\n\nexport default function ({ data, loading, filters = {}, toggleFilter }) {\n  if (!data) return null\n  const { referrers = [] } = data\n  const { pages = [] } = data\n  const maxReferrers = Math.max(...referrers.map(r => r.views))\n  const maxPages = Math.max(...pages.map(r => r.views))\n\n  return h('div', {}, [\n    h('div', { class: `grid-lg contain ${loading && 'loading'}` }, [\n      h('div', { class: 'w-50-lg', id: 'referrers' }, [\n        h('h2', {}, 'Top Referrers'),\n        h('ul', { id: 'top-referrers' }, referrers.map((d) => {\n          const favicon = `https://icons.duckduckgo.com/ip3/${domain(d.r)}.ico`\n          return h('li', {\n            key: d.r,\n            class: `filterable ${filters.r === d.r && 'active'}`,\n            style: {\n              '--data-percentage': (100 - d.views * 80 / maxReferrers) + '%'\n            },\n            onClick: () => toggleFilter('r', d.r)\n          }, [\n            h('div', {}, [\n              h('b', { class: 'views' }, d.views),\n              h('img', { loading: 'lazy', class: 'favicon', src: favicon }, []),\n              d.r.replace('https://', '').replace('http://', '') || 'none'\n            ])\n          ])\n        }))\n      ]),\n      h('div', { class: 'w-50-lg', id: 'pages' }, [\n        h('h2', {}, 'Top Pages'),\n        h('ul', { id: 'top-pages' }, pages.map((d) => {\n          return h('li', {\n            key: d.p,\n            onClick: () => toggleFilter('p', d.p),\n            class: `filterable ${filters.p === d.p && 'active'}`,\n            style: {\n              '--data-percentage': (100 - d.views * 80 / maxPages) + '%'\n            }\n          }, [\n            h('b', { class: 'views' }, d.views),\n            d.p\n          ])\n        })\n        )\n      ])\n    ])\n  ])\n}\n\nfunction domain (url) {\n  if (!url) return '/'\n  const a = document.createElement('a')\n  a.href = url\n  return a.hostname\n}\n","import { h } from 'preact.js'\n\nexport default function ({ data, filters = {}, toggleFilter }) {\n  if (!data) return null\n  if (!Array.isArray(data.data)) return null\n  return h('div', { class: 'contain' }, [\n    h('ul', {},\n      data.data.map((d, i) =>\n        h('li', { class: 'pageview', key: d.d }, [\n          h('div', { class: `filterable ${filters.v === d.v && 'active'}`, onClick: () => toggleFilter('v', d.v) }, [\n            h('time', {}, d.d.substring(0, 19)),\n            d.v,\n            ' ',\n            h('span', { style: { 'background-color': visitorColor(d.v) }, class: 'visitor dot' }, [])\n          ]),\n          h('div', { class: `filterable ${filters.p === d.p && 'active'}`, onClick: () => toggleFilter('p', d.p) }, [\n            h('b', {}, d.p)\n          ]),\n          d.r &&\n            h('div', { class: `filterable ${filters.r === d.r && 'active'}`, onClick: () => toggleFilter('r', d.r) }, [\n              'from ',\n              h('img', { class: 'favicon', src: `https://icons.duckduckgo.com/ip3/${domain(d.r)}.ico` }),\n              d.r.replace('https://', '').replace('http://', '')\n            ])\n        ].filter(Boolean))\n      ))\n  ])\n}\n\nfunction domain (url) {\n  if (!url) return '/'\n  const a = document.createElement('a')\n  a.href = url\n  return a.hostname\n}\n\nfunction visitorColor (v) {\n  return '#' + intToRGB(hashCode(v))\n\n  // https://stackoverflow.com/questions/3426404/create-a-hexadecimal-colour-based-on-a-string-with-javascript\n  function hashCode (str) { // java String#hashCode\n    let hash = 0\n    for (let i = 0; i < str.length; i++) {\n      hash = str.charCodeAt(i) + ((hash << 5) - hash)\n    }\n    return hash\n  }\n\n  function intToRGB (i) {\n    const c = (i & 0x00FFFFFF)\n      .toString(16)\n      .toUpperCase()\n\n    return '00000'.substring(0, 6 - c.length) + c\n  }\n}\n","import { h, Component } from 'preact.js'\nimport Filters from './filters.js'\nimport ThemeToggle from './theme-toggle.js'\nimport PageviewsChart from './pageviews-chart.js'\nimport Stats from './stats.js'\nimport Breakdown from './breakdown.js'\nimport History from './history.js'\n\nexport default class Analytics extends Component {\n  render ({ data, filters, loading, theme, updateResolution, updateTimeframe, updateCustomTimeframe, clearCustomTimeframe, toggleFilter, toggleTheme } = {}) {\n    if (Object.keys(data).length === 0) return null\n    return h('div', { class: `${loading && 'loading'}` }, [\n      h(ThemeToggle, {\n        theme: theme,\n        toggleTheme: toggleTheme\n      }, []),\n      h(Filters, {\n        updateResolution: updateResolution,\n        updateTimeframe: updateTimeframe,\n        updateCustomTimeframe: updateCustomTimeframe,\n        clearCustomTimeframe: clearCustomTimeframe,\n        filters: filters\n      }, []),\n      h(PageviewsChart, {\n        filters: filters,\n        data: data,\n        updateCustomTimeframe: updateCustomTimeframe\n      }, []),\n      h(Stats, {\n        toggleFilter: toggleFilter,\n        filters: filters,\n        data: data\n      }, []),\n      h(Breakdown, {\n        data: data,\n        filters: filters,\n        toggleFilter: toggleFilter\n      }, []),\n      h(History, {\n        data: data,\n        filters: filters,\n        toggleFilter: toggleFilter\n      }, [])\n    ].filter(Boolean))\n  }\n}\n","import { h, Component } from 'preact.js'\nimport { Router, route } from 'preact-router.js'\n\nimport Analytics from './analytics.js'\n\nconst initialState = {\n  data: {},\n  mounted: false,\n  loading: false,\n  filters: {\n    timeframe: 'today',\n    resolution: 'hourly'  \n  },\n  theme: 'light'\n}\n\nif (localStorage.getItem('state')) {\n  Object.assign(initialState, JSON.parse(localStorage.getItem('state')))\n}\n\nexport default class App extends Component {\n  state = initialState\n\n  componentDidMount () {\n    if (window.location.search) {\n      const query = window.location.search.substring(1)\n      const initialFilters = query.split('&').map(q => q.split('=')).reduce((acc, k) => Object.assign(acc, {[k[0]]: decodeURIComponent(k[1])}), {})\n      this.setState({ mounted: true, filters: Object.assign({}, this.state.filters, initialFilters) }, () => this.getData())\n    } else {\n      this.setState({ mounted: true }, () => this.getData())\n    }\n    setInterval(() => this.getData(), 60 * 1000)\n\n    const eventSource = new window.EventSource('/')\n\n    eventSource.onmessage = (message) => {\n      if (!message || !message.data) return console.error('skipping empty message')\n      try {\n        const live = JSON.parse(message.data, {})\n        this.setState({ data: Object.assign({}, this.state.data, {live}) })\n\n      } catch (err) {\n        console.error('sse parse error', err)\n      }\n    }\n  }\n\n  async handleRoute(e) {\n    if (!this.state.mounted) return\n    if (window.location.search) {\n      const query = window.location.search.substring(1)\n      const initialFilters = query.split('&').map(q => q.split('=')).reduce((acc, k) => Object.assign(acc, {[k[0]]: decodeURIComponent(k[1])}), {})\n      this.setState({ filters: Object.assign({}, this.state.filters, initialFilters) }, () => this.getData())\n    } else {\n      this.getData()\n    }\n  }\n\n  async getData () {\n    if (this.state.loading) return\n    this.setState({ loading: true })\n    let query = ''\n    if (Object.keys(this.state.filters).length > 0) {\n      query = `?` + Object.keys(this.state.filters).reduce((acc, curr) => acc.concat([`${curr}=${encodeURIComponent(this.state.filters[curr])}`]), []).join('&')\n    }\n    const host = /(localhost|127\\.0\\.0\\.1|0\\.0\\.0\\.0)/.test(window.location.origin) ? 'http://127.0.0.1:8080' : window.location.origin\n    const req = await window.fetch(host + '/api/' + query)\n    const data = await req.json()\n    this.setState({ data, loading: false }, () => localStorage.setItem('state', JSON.stringify(this.state)))\n  }\n\n  clearCustomTimeframe () {\n    const newFilters = Object.assign({}, this.state.filters, {timeframe: 'past-day'})\n    delete newFilters.from\n    delete newFilters.to\n    this.setState({ filters: newFilters }, () => \n      route('?' + Object.keys(newFilters).reduce((acc, curr) => acc.concat([`${curr}=${encodeURIComponent(newFilters[curr])}`]), []).join('&'))\n    )\n  }\n  updateCustomTimeframe (customFrom, customTo = Date.now()) {\n    // debugger\n    if (!Number.isFinite(+new Date(customFrom))) return\n    if (!Number.isFinite(+new Date(customTo))) return\n    const newFilters = Object.assign({}, this.state.filters, { from: customFrom, to: customTo })\n    delete newFilters.timeframe\n    this.setState({ filters: newFilters }, () => \n      route('?' + Object.keys(newFilters).reduce((acc, curr) => acc.concat([`${curr}=${encodeURIComponent(newFilters[curr])}`]), []).join('&'))\n    )    \n  }\n\n  updateTimeframe (timeframe) {\n    const newFilters = Object.assign({}, this.state.filters, { timeframe })\n    if (['today', 'past-day'].includes(timeframe) && ['monthly', 'daily'].includes(newFilters.resolution)) {\n      newFilters.resolution = 'hourly'\n    }\n    if (['past-week'].includes(timeframe) && ['minutes', 'monthly'].includes(newFilters.resolution)) {\n      newFilters.resolution = 'daily'\n    }\n    if (['past-month'].includes(timeframe) && ['minutes', 'monthly'].includes(newFilters.resolution)) {\n      newFilters.resolution = 'daily'\n    }\n    if (['past-6-months'].includes(timeframe) && ['minutes', 'hourly'].includes(newFilters.resolution)) {\n      newFilters.resolution = 'daily'\n    }\n    if (['past-year'].includes(timeframe) && ['minutes', 'hourly', 'daily'].includes(newFilters.resolution)) {\n      newFilters.resolution = 'monthly'\n    }\n    this.setState({ filters: newFilters }, () => \n      route('?' + Object.keys(newFilters).reduce((acc, curr) => acc.concat([`${curr}=${encodeURIComponent(newFilters[curr])}`]), []).join('&'))\n    )\n  }\n  updateResolution (resolution) {\n    const newFilters = Object.assign({}, this.state.filters, { resolution })\n    this.setState({ filters: newFilters }, () => \n      route('?' + Object.keys(newFilters).reduce((acc, curr) => acc.concat([`${curr}=${encodeURIComponent(newFilters[curr])}`]), []).join('&'))\n    )\n  }\n  toggleFilter (type, value) {\n    const newFilters = Object.assign({}, this.state.filters)\n    if (newFilters[type] === value) {\n      delete newFilters[type]\n    } else {\n      newFilters[type] = value\n    }\n    this.setState({ filters: newFilters }, () => \n      route('?' + Object.keys(newFilters).reduce((acc, curr) => acc.concat([`${curr}=${encodeURIComponent(newFilters[curr])}`]), []).join('&'))\n    )\n  }\n  toggleTheme () {\n    this.setState({theme: this.state.theme === 'dark' ? 'light' : 'dark'})\n  }\n  render () {\n    return h('div', {id: 'app', class: `theme-${this.state.theme}`}, [\n      h(Router, {onChange: this.handleRoute.bind(this)}, [\n        h(Analytics, {          \n          data: this.state.data,\n          filters: this.state.filters,\n          loading: this.state.loading,\n          theme: this.state.theme,\n          updateResolution: this.updateResolution.bind(this),\n          updateTimeframe: this.updateTimeframe.bind(this),\n          updateCustomTimeframe: this.updateCustomTimeframe.bind(this),\n          clearCustomTimeframe: this.clearCustomTimeframe.bind(this),\n          toggleFilter: this.toggleFilter.bind(this),\n          toggleTheme: this.toggleTheme.bind(this),\n          path: '/'\n        }, [])\n      ])\n    ])\n  }\n}\n","import { h, Component, render } from 'preact.js';\nimport htm from 'htm.js';\n\nimport App from './components/app.js'\n\nconst html = htm.bind(h);\n\nrender(html`<${App}/>`, document.body);\n"],"names":["n","u","i","t","r","f","e","c","l","s","parentNode","removeChild","a","o","arguments","length","push","children","defaultProps","v","type","props","key","ref","__k","__","__b","__e","__d","__c","__h","constructor","__v","vnode","y","p","this","context","d","indexOf","_","base","k","b","__r","debounceRendering","sort","some","__P","I","__n","ownerSVGElement","T","m","h","w","A","P","Array","isArray","g","x","value","L","z","appendChild","nextSibling","insertBefore","setProperty","test","C","style","cssText","replace","toLowerCase","slice","addEventListener","H","$","removeEventListener","setAttribute","removeAttribute","event","contextType","__E","prototype","render","M","sub","state","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","j","diffed","call","localName","nodeType","document","createTextNode","createElementNS","createElement","is","data","childNodes","dangerouslySetInnerHTML","attributes","name","__html","innerHTML","firstChild","checked","current","unmount","componentWillUnmount","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","bind","resolve","setTimeout","Object","assign","apply","Map","EMPTY$1","obj","exec","url","route","opts","ret","reg","match","matches","split","decodeURIComponent","join","segmentize","max","Math","i$1","charAt","param","flags","plus","star","val","map","default","pathRankSort","rank","index","prepareVNodeForRanking","path","rankSegment","rankChild","segment","customHistory","ROUTERS","subscribers","EMPTY","getCurrentUrl","location","getCurrentLocation","pathname","search","canRoute","history","setUrl","routeTo","didRoute","routeFromLink","node","getAttribute","href","target","handleLinkClick","ctrlKey","metaKey","altKey","shiftKey","button","currentTarget","prevent","stopImmediatePropagation","stopPropagation","preventDefault","delegateLinkHandler","String","nodeName","toUpperCase","hasAttribute","eventListenersInitialized","Router","Component$$1","__proto__","create","static","onChange","toChildArray","getMatchingChildren","updating","this$1","unlisten","listen","splice","invoke","filter","newProps","cloneElement","Boolean","ref$1","active","previous","previousUrl","router","Component","Filters","updateTimeframe","updateCustomTimeframe","clearCustomTimeframe","updateResolution","filters","class","from","to","timeframeSelection","includes","timeframe","resolutionSelection","console","log","Date","toISOString","substring","onClick","label","id","resolution","ThemeToggle","theme","toggleTheme","Function","PageviewsChart","chartData","chartMaxPageviews","scope","formatDate","toLocaleDateString","toLocaleString","Stats","toggleFilter","Number","isFinite","visitorsCount","pageviewsCount","live","keys","reduce","acc","filterKeys","every","pageview","toFixed","curr","existing","find","concat","Breakdown","loading","referrers","pages","maxReferrers","views","maxPages","favicon","hostname","domain","src","History","visitorColor","toString","intToRGB","str","hash","charCodeAt","hashCode","Route","component","Link","Analytics","initialState","mounted","localStorage","getItem","JSON","parse","html","get","set","window","initialFilters","q","getData","setInterval","EventSource","onmessage","message","error","err","async","query","encodeURIComponent","host","origin","req","fetch","json","setItem","stringify","newFilters","customFrom","customTo","now","handleRoute","body"],"mappings":"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"}